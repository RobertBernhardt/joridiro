<script>
	import { page } from '$app/stores';
	import Button from '$lib/InputComponents/Button.svelte';
	import { alert as notifications } from '$lib/Notifications/notifications';
	import { onMount } from 'svelte';
	export let title = '';
	export let company_name = '';
	export let company_link = '';
	export let logo = '';

    const copyLink = () => {
        navigator.clipboard.writeText($page.url.href);
        $notifications = {
            type: 'SUCCESS',
            message: 'Link copied to clipboard',
        }
    };
</script>

<div class="container">
	<div class="logo">
		<img src={logo} alt="" />
	</div>
	<div class="title">
		<div class="block">
			<h1>{title}</h1>
			<div class="company">
				<p class="name">{company_name}</p>
				{#if company_link}
					<svg
						width="20"
						height="20"
						viewBox="0 0 20 20"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						<g clip-path="url(#clip0_971_41492)">
							<path
								d="M12.4999 5.83334H14.9999C15.5471 5.83334 16.0889 5.94112 16.5944 6.15051C17.1 6.35991 17.5593 6.66682 17.9462 7.05373C18.3331 7.44064 18.64 7.89997 18.8494 8.4055C19.0588 8.91102 19.1666 9.45284 19.1666 10C19.1666 10.5472 19.0588 11.089 18.8494 11.5945C18.64 12.1 18.3331 12.5594 17.9462 12.9463C17.5593 13.3332 17.1 13.6401 16.5944 13.8495C16.0889 14.0589 15.5471 14.1667 14.9999 14.1667H12.4999M7.49992 14.1667H4.99992C4.45274 14.1667 3.91093 14.0589 3.4054 13.8495C2.89988 13.6401 2.44055 13.3332 2.05364 12.9463C1.27224 12.1649 0.833252 11.1051 0.833252 10C0.833252 8.89494 1.27224 7.83513 2.05364 7.05373C2.83504 6.27233 3.89485 5.83334 4.99992 5.83334H7.49992"
								stroke="#EA3D09"
								stroke-width="2"
								stroke-linecap="round"
								stroke-linejoin="round"
							/>
							<path
								d="M6.66675 10H13.3334"
								stroke="#EA3D09"
								stroke-width="2"
								stroke-linecap="round"
								stroke-linejoin="round"
							/>
						</g>
						<defs>
							<clipPath id="clip0_971_41492">
								<rect width="20" height="20" fill="white" />
							</clipPath>
						</defs>
					</svg>
				{/if}
			</div>
		</div>

		<div class="share">
			<Button onClick={copyLink} style="style2">
				<svg
					width="18"
					height="18"
					viewBox="0 0 18 18"
					fill="none"
					xmlns="http://www.w3.org/2000/svg"
				>
					<path
						d="M11.224 12.3541L11.5768 12.5167L11.8215 12.215C12.0852 11.89 12.4176 11.6274 12.7948 11.4461C13.1715 11.2651 13.5836 11.1697 14.0015 11.1667C14.5613 11.167 15.1085 11.3331 15.574 11.6442C16.0399 11.9555 16.4031 12.398 16.6175 12.9157C16.832 13.4334 16.8881 14.0031 16.7788 14.5527C16.6694 15.1024 16.3996 15.6072 16.0034 16.0035C15.6071 16.3997 15.1023 16.6696 14.5526 16.7789C14.003 16.8882 13.4333 16.8321 12.9156 16.6177C12.3979 16.4032 11.9554 16.04 11.6441 15.5741C11.3333 15.109 11.1672 14.5624 11.1666 14.0031C11.1689 13.8342 11.1856 13.6658 11.2164 13.4998L11.2877 13.1169L10.9339 12.9541L6.53392 10.9291L6.22134 10.7853L5.97532 11.0258C5.57658 11.4157 5.07166 11.6793 4.52381 11.7834C3.97595 11.8876 3.40954 11.8278 2.89552 11.6115C2.38151 11.3952 1.94275 11.032 1.63423 10.5675C1.3257 10.1029 1.16113 9.55766 1.16113 8.99999C1.16113 8.44232 1.3257 7.89705 1.63423 7.4325C1.94275 6.96794 2.38151 6.60476 2.89552 6.38846C3.40954 6.17216 3.97595 6.11236 4.52381 6.21655C5.07166 6.32073 5.57658 6.58428 5.97532 6.97416L6.22134 7.21472L6.53392 7.07087L10.9339 5.04587L11.2877 4.88306L11.2164 4.50022C11.1854 4.3335 11.1687 4.16444 11.1665 3.99488C11.1614 3.32743 11.392 2.67957 11.8179 2.16554C12.2439 1.65124 12.838 1.30397 13.4951 1.18502C14.1523 1.06607 14.8304 1.18308 15.4097 1.51542C15.989 1.84775 16.4323 2.37403 16.6613 3.00139C16.8903 3.62874 16.8904 4.31683 16.6615 4.94423C16.4325 5.57162 15.9894 6.09799 15.4101 6.43042C14.8309 6.76286 14.1528 6.88 13.4956 6.76117C12.8384 6.64234 12.2443 6.29518 11.8182 5.78095L11.573 5.48506L11.224 5.64588L6.97397 7.60422L6.56975 7.79047L6.70792 8.21355C6.8748 8.72456 6.8748 9.27542 6.70792 9.78644L6.56975 10.2095L6.97397 10.3958L11.224 12.3541ZM15.2036 2.19848C14.8473 1.9604 14.4284 1.83333 13.9999 1.83333C13.4252 1.83333 12.8741 2.0616 12.4678 2.46793C12.0615 2.87426 11.8332 3.42536 11.8332 3.99999C11.8332 4.42852 11.9603 4.84742 12.1984 5.20373C12.4364 5.56003 12.7748 5.83774 13.1707 6.00173C13.5666 6.16572 14.0023 6.20863 14.4226 6.12503C14.8429 6.04143 15.2289 5.83507 15.5319 5.53206C15.835 5.22904 16.0413 4.84298 16.1249 4.42269C16.2085 4.0024 16.1656 3.56675 16.0016 3.17085C15.8376 2.77494 15.5599 2.43655 15.2036 2.19848ZM2.79615 10.8015C3.15245 11.0396 3.57135 11.1667 3.99988 11.1667C4.57452 11.1667 5.12562 10.9384 5.53195 10.5321C5.93827 10.1257 6.16655 9.57463 6.16655 8.99999C6.16655 8.57147 6.03947 8.15256 5.8014 7.79626C5.56332 7.43995 5.22494 7.16224 4.82903 6.99825C4.43312 6.83426 3.99748 6.79136 3.57719 6.87496C3.15689 6.95856 2.77083 7.16492 2.46782 7.46793C2.1648 7.77094 1.95845 8.15701 1.87485 8.5773C1.79124 8.99759 1.83415 9.43323 1.99814 9.82914C2.16213 10.225 2.43984 10.5634 2.79615 10.8015ZM12.7961 15.8015C13.1525 16.0396 13.5714 16.1667 13.9999 16.1667C14.5745 16.1667 15.1256 15.9384 15.5319 15.5321C15.9383 15.1257 16.1665 14.5746 16.1665 14C16.1665 13.5715 16.0395 13.1526 15.8014 12.7963C15.5633 12.44 15.2249 12.1622 14.829 11.9983C14.4331 11.8343 13.9975 11.7914 13.5772 11.875C13.1569 11.9586 12.7708 12.1649 12.4678 12.4679C12.1648 12.7709 11.9584 13.157 11.8748 13.5773C11.7912 13.9976 11.8342 14.4332 11.9981 14.8291C12.1621 15.225 12.4398 15.5634 12.7961 15.8015Z"
						fill="#6A7584"
						stroke="#6A7584"
					/>
				</svg>
				<p>Share</p>
			</Button>
		</div>
	</div>
</div>

<style>
	.container {
		width: 100%;
		display: flex;
		background-color: white;
		gap: 32px;
	}
	.logo {
		width: 70px;
		height: 70px;
		min-width: 70px;
		border-radius: 7px;
		overflow: hidden;
	}
	.logo img {
		width: 100%;
		height: 100%;
		object-fit: cover;
	}
	.company {
		display: flex;
		align-items: center;
		gap: 10px;
	}
	.company svg {
		cursor: pointer;
	}
	.title {
		width: 100%;
		display: flex;
		justify-content: space-between;
		align-items: baseline;
	}
	.title h1 {
		font-size: 1.4rem;
		font-weight: 600;
	}
	.company .name {
		font-size: 1rem;
		font-weight: 500;
		opacity: 0.8;
	}
	.block {
		display: flex;
		flex-direction: column;
	}
	.share {
		display: flex;
		align-items: center;
		gap: 10px;
		font-weight: 500;
		color: var(--gray1);
		width: fit-content;
		cursor: pointer;
	}
    .share p{
        font-weight: 600;
		color: var(--gray1);
    }
	@media screen and (max-width: 768px) {
		.container {
			flex-direction: column;
			gap: 16px;
			margin-top: -65px;
			background-color: transparent;
		}
	}
</style>
