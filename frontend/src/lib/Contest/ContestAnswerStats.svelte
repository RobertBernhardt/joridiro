<script lang="ts">
    let selected: number = -1
    const data = [
        {
            question: "Where did you find about about instagram?",
            options: [
                {
                    text: "Google",
                    value: 342
                },
                {
                    text: "Facebook",
                    value: 205
                },
                {
                    text: "Twitter",
                    value: 689
                },
                {
                    text: "Youtube",
                    value: 143
                }
            ]
        },
        {
            question: "Where did you find about about instagram?",
            options: [
                {
                    text: "Google",
                    value: 342
                },
                {
                    text: "Facebook",
                    value: 205
                },
                {
                    text: "Twitter",
                    value: 689
                },
                {
                    text: "Youtube",
                    value: 143
                }
            ]
        },
        {
            question: "Where did you find about about instagram?",
            options: [
                {
                    text: "Google",
                    value: 342
                },
                {
                    text: "Facebook",
                    value: 205
                },
                {
                    text: "Twitter",
                    value: 689
                },
                {
                    text: "Youtube",
                    value: 143
                }
            ]
        }
    ]
    const totalParticipants = data.reduce((acc, curr) => {
        return acc + curr.options.reduce((acc, curr) => {
            return acc + curr.value
        }, 0)
    }, 0)

    const calculatePercentage = (value: number, total: number) => {
        return (value / total) * 100
    }
</script>

<section id="questions" class="container">
    <div class="header">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15.07 11.25L14.17 12.17C13.45 12.89 13 13.5 13 15H11V14.5C11 13.39 11.45 12.39 12.17 11.67L13.41 10.41C13.78 10.05 14 9.55 14 9C14 7.89 13.1 7 12 7C11.4696 7 10.9609 7.21071 10.5858 7.58579C10.2107 7.96086 10 8.46957 10 9H8C8 7.93913 8.42143 6.92172 9.17157 6.17157C9.92172 5.42143 10.9391 5 12 5C13.0609 5 14.0783 5.42143 14.8284 6.17157C15.5786 6.92172 16 7.93913 16 9C16 9.88 15.64 10.67 15.07 11.25ZM13 19H11V17H13M12 2C10.6868 2 9.38642 2.25866 8.17317 2.7612C6.95991 3.26375 5.85752 4.00035 4.92893 4.92893C3.05357 6.8043 2 9.34784 2 12C2 14.6522 3.05357 17.1957 4.92893 19.0711C5.85752 19.9997 6.95991 20.7362 8.17317 21.2388C9.38642 21.7413 10.6868 22 12 22C14.6522 22 17.1957 20.9464 19.0711 19.0711C20.9464 17.1957 22 14.6522 22 12C22 6.47 17.5 2 12 2Z" fill="black"/>
        </svg>
        <p>Questions from the organizer</p>            
    </div>
    <div class="questions">
        {#each data as question}
            <div class="wrapper">
                <div class="block">
                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9.00108 5.99935C8.76647 5.99859 8.53581 6.05975 8.3324 6.17666C8.1287 6.29373 7.95954 6.46255 7.84207 6.66602L7.83687 6.67503L7.83204 6.68425C7.81121 6.72409 7.78252 6.7593 7.74773 6.78776C7.71293 6.81622 7.67273 6.83735 7.62956 6.84988C7.58638 6.8624 7.54112 6.86607 7.49649 6.86065C7.45186 6.85523 7.40879 6.84083 7.36987 6.81834C7.33095 6.79584 7.29698 6.7657 7.27 6.72973C7.24303 6.69377 7.22361 6.65271 7.21292 6.60905C7.20222 6.56538 7.20047 6.52001 7.20777 6.47565C7.21506 6.43128 7.23126 6.38886 7.25538 6.35092L7.2611 6.34192L7.26643 6.33268C7.44208 6.02846 7.69475 5.77586 7.99904 5.60031C8.30282 5.42505 8.64733 5.33276 8.99802 5.33268C9.4664 5.33674 9.91852 5.50507 10.2755 5.80834C10.633 6.11201 10.8724 6.53166 10.9518 6.99393C11.0312 7.4562 10.9457 7.93167 10.7101 8.33725C10.4744 8.74282 10.1038 9.05268 9.66287 9.21267L9.33342 9.33221V9.68268V9.83268C9.33342 9.92109 9.2983 10.0059 9.23579 10.0684C9.17327 10.1309 9.08849 10.166 9.00008 10.166C8.91168 10.166 8.8269 10.1309 8.76438 10.0684C8.70187 10.0059 8.66675 9.92109 8.66675 9.83268V8.99935C8.66675 8.91094 8.70187 8.82616 8.76438 8.76365C8.8269 8.70113 8.91168 8.66602 9.00008 8.66602C9.35371 8.66602 9.69285 8.52554 9.94289 8.27549C10.1929 8.02544 10.3334 7.68631 10.3334 7.33268C10.3334 6.97906 10.1929 6.63992 9.94289 6.38987C9.69308 6.14006 9.35434 5.99961 9.00108 5.99935ZM9.00108 5.99935C9.00075 5.99935 9.00042 5.99935 9.00008 5.99935V6.49935L9.00207 5.99935C9.00174 5.99935 9.00141 5.99935 9.00108 5.99935ZM8.68207 12.2959C8.68069 12.2773 8.68015 12.2587 8.68042 12.2401L8.69494 12.2115L8.7063 12.1784C8.70979 12.1683 8.7145 12.1586 8.72031 12.1495C8.73605 12.1275 8.75286 12.1063 8.7707 12.086C8.80012 12.0581 8.83441 12.0358 8.87189 12.0202C8.91251 12.0032 8.95608 11.9945 9.00008 11.9945C9.04409 11.9945 9.08766 12.0032 9.12828 12.0202C9.1689 12.0371 9.20576 12.0619 9.23675 12.0931L9.23676 12.0931C9.26765 12.1243 9.2921 12.1612 9.30868 12.2018C9.32527 12.2424 9.33368 12.2859 9.33343 12.3298L9.33337 12.3405L9.33376 12.3512C9.33535 12.3943 9.32856 12.4373 9.31376 12.4778L9.31326 12.4792C9.30079 12.5137 9.28088 12.545 9.25496 12.5709C9.22904 12.5968 9.19773 12.6167 9.16326 12.6292L9.14705 12.6351L9.13129 12.642C9.09521 12.658 9.0562 12.6662 9.01675 12.6662C8.97731 12.6662 8.93829 12.658 8.90221 12.642L8.88645 12.6351L8.87024 12.6292C8.83577 12.6167 8.80446 12.5968 8.77854 12.5709C8.75262 12.545 8.73272 12.5137 8.72024 12.4792L8.71228 12.4572L8.7023 12.436C8.68897 12.4078 8.68245 12.3768 8.68325 12.3456L8.68389 12.3207L8.68207 12.2959ZM4.64812 2.48617C5.9363 1.62543 7.4508 1.16602 9.00008 1.16602C10.0288 1.16602 11.0474 1.36863 11.9978 1.76229C12.9482 2.15595 13.8117 2.73295 14.5391 3.46035C15.2665 4.18774 15.8435 5.05128 16.2371 6.00166C16.6308 6.95205 16.8334 7.97066 16.8334 8.99935C16.8334 10.5486 16.374 12.0631 15.5133 13.3513C14.6525 14.6395 13.4291 15.6435 11.9978 16.2364C10.5664 16.8293 8.9914 16.9844 7.47188 16.6822C5.95236 16.3799 4.55659 15.6339 3.46108 14.5384C2.36557 13.4428 1.61952 12.0471 1.31727 10.5276C1.01502 9.00804 1.17014 7.43302 1.76303 6.00166C2.35592 4.57031 3.35993 3.34691 4.64812 2.48617ZM5.0185 14.9582C6.19705 15.7457 7.58265 16.166 9.00008 16.166C10.9008 16.166 12.7237 15.411 14.0677 14.0669C15.4117 12.7229 16.1668 10.9001 16.1668 8.99935C16.1668 7.58192 15.7464 6.19631 14.9589 5.01776C14.1715 3.83921 13.0522 2.92064 11.7426 2.37821C10.4331 1.83578 8.99214 1.69386 7.60194 1.97039C6.21174 2.24692 4.93476 2.92947 3.93249 3.93175C2.93021 4.93403 2.24765 6.21101 1.97112 7.6012C1.6946 8.9914 1.83652 10.4324 2.37895 11.7419C2.92138 13.0515 3.83995 14.1707 5.0185 14.9582Z" fill="black" stroke="#6A7584"/>
                    </svg>
                    <p class="question">{question.question}</p>
                </div>
                <div class="answers">
                    {#each question.options as answer}
                        <div class="answer">
                            <div class="answer_text">
                                <p>{answer.text}</p>
                            </div>
                            <div class="graph">
                                <div class="bar" style="width: {calculatePercentage(answer.value, 250)}px"></div>
                                <p class="value">{answer.value}</p>
                            </div>
                        </div>
                    {/each}
                </div>
            </div>
        {/each}
    </div>
</section>

<style>
    .container{
        width: 100%;
        padding: 0 20px;
    }
    .header{
        display: flex;
        align-items: center;
        margin-bottom: 20px;
    }
    .header p{
        font-size: 1.3rem;
        font-weight: 600;
        margin-left: 10px;
    }

    .questions{
        display: flex;
        gap: 20px;
        flex-direction: column;
    }
    .wrapper{
        border: 1px solid var(--gray3);
        padding: 16px;
    }
    .block{
        display: flex;
        align-items: center;
        cursor: pointer;
        gap: 10px;
    }
    .block p{
        font-size: 1.1rem;
        font-weight: 600;
    }
    
    .answers{
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-top: 20px;
        margin-left: 28px;
    }
    .answer{
        display: flex;
        align-items: center;
        gap: 10px;
        justify-content: space-between;
    }
    .graph{
        display: flex;
        gap: 10px;
        align-items: center;
    }
    .bar{
        width: 100%;
        height: 10px;
        background-color: var(--green1);
        border-radius: 10px;
    }
</style>